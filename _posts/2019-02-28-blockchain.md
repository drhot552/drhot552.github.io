---
title:  "[Blockchain]블록체인의 합의구조"

categories:
  - blockchain
last_modified_at: 2019-02-28T18:06:00-05:00
tags:
  - Blockchain
  - 합의알고리즘
---


# 블록체인의 합의구조
비트코인 블록체인 하면 마이닝, 채굴, 마이너 이런 용어를 많이 들어보셨을 겁니다. 먼가 일반사람들이나 처음 블록체인을 접하는 사람들에게 있어 앞선 용어들은 무슨 광산에 있는 광부와 같은 느낌을 줍니다. 컴퓨터 공학과인 제가 처음 비트코인을 접했을 때에도 도대체 무슨 말인지 이해할 수 없었죠.

사실 Mining이라는 것을 비트코인의 합의구조를 이뤄주는 하나의 알고리즘이라고 생각하면 됩니다.(마치 매우 어려운 수학문제를 풀기 위해서 어마어마한 컴퓨팅 능력을 소모하는 것을 말하죠.)

![Image Alt 텍스트](/assets/img/mining.jpg)

마이닝이라는 단어는 비트코인으로 많이 알려져잇지만 사실은 빅데이터에서도 쓰이는 단어입니다. 즉 데이터마이닝(DataMining)이라는 용어로 해당 데이터를 분석하기 위한 과정중 하나로, 데이터가 자산인 현 시대에서는 이처럼 마이닝이라는 단어가 어떤 가치있는 자산을 얻기위한 하나의 과정을 표현하는 듯합니다.

=> 비트코인 블록체인에서의 마이닝은 결국 합의구조알고리즘(POW)이다.

# 합의구조알고리즘(POW vs POS vs DPOS)
현재 블록체인 업계에서는 크게 3가지의 합의구조가 많이 알려져 있습니다.
POW - 작업증명을 통한 합의구조(컴퓨팅
POW알고리즘은 일전에 이더리움 블록체인을 소개하면서 작업증명에 대한 알고리즘을 설명한 내용이 있습니다.
아래의 링크를 누르시면 자세한 POW알고리즘의 합의방식을 아실 수 있습니다.)

## POW (Proof of Work)
[POW합의알고리즘 설명](https://drhot552.github.io/blockchain/%EC%9D%B4%EB%8D%94%EB%A6%AC%EC%9B%80%EB%B8%94%EB%A1%9D%EC%B2%B4%EC%9D%B8_%EC%9E%91%EC%97%85%EC%A6%9D%EB%AA%85%EB%B0%A9%EC%8B%9D%EB%B8%94%EB%A1%9D%EC%9D%98%EA%B5%AC%EC%A1%B0/)

## POS (Proof of Stake)
POS는 POW알고리즘의 문제점을 해결하고자 나온 합의알고리즘입니다. POW는 컴퓨팅파워의 소모가 많이들 뿐 아니라 트랜잭션 처리 속도도 느려 확장성에도 큰 문제가 발생하였습니다. 이는 POW알고리즘을 사용하는 블록체인이 가지는 문제점이었습니다. 그래서 나온 것이 바로 POS알고리즘입니다.

POS는 지분증명이라고합니다. 말그대로 지분에 따라 합의구조가 일어나는 겁니다.
그럼 이런 의문이 들수 가 있습니다. 지분이 많은 사람에 따라 합의가 일어나면 블록체인의 정체성이 흔들리는 것이 아닌가?? 저 또한 POS알고리즘의 처음 든 생각이 앞선 생각이었습니다. 하지만 그러지 못하는 이유는 아래와 같습니다.

1. 경제적인 이득
블록체인의 약점이라고 알려져있는 51% Attack을 생각해볼 수 있습니다. POW와 마찬가지로 POS 또한 51%지분이 필요하며 악의적인 노드가 51%의 지분을 얻었을때의 경제적인 이득이 없습니다. 더욱 탈중앙화 된 블록체인 일수록 실시간으로 노드가 생성되기 때문에 끊임없이 지분을 사들여야 되기 때문에 막대한 자본이 들어갈 수 밖에 없습니다. 이로인해 얻을 경제적 이득이 없다는 것이 POS의 이론입니다.

> Pow에서 51%의 해시파워를 가져야하는 비용 1조
> POS에서의 51%의 지분을 가져야 하는 비용 100조

[POS지분지명](https://banksalad.com/contents/쉽게-설명하는-블록체인-지분증명이란-lr7RH)

## 그렇다면 약점이 없는 무결성인 합의알고리즘인가?
그렇지 않습니다. POS에는 두가지 치명적인 약점이 존재합니다. 바로 "noting at Stake"입니다. 말 그대로 비용이 없다는 뜻입니다.
비용이 없다는 뜻은 무슨말일까요?

두가지의 경우를 생각해봅시다.
1. Long Range Attack


2. Short Range Attack


> 그래서 이더리움은 POS지분방식에 대해서 벌금을 매기는 방식으로 전환하였습니다.

## DPOS(Decentralized Proof Of Stake)
위임된 지분증명이라고 합니다. (위임되었다고??)
POS의 위 문제를 해결하고자 그리고 POW의 속도문제를 해결하고자 DPOS라는 증명방식이 나오게 되었습니다.
대표적인 암호화폐로는 이오스, 스팀잇, 비트쉐어 등이 있습니다. 모두 DPOS를 사용하고 있는 암호화폐입니다. DPOS는 ()


# 그외 합의 알고리즘들....

# 그럼 우린 어떤 알고리즘을 사용해야 할까??
